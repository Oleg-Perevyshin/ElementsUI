import{c as ae,a as S,f as z,s as he}from"../chunks/BkPaZSxt.js";import{p as be,j as Ue,f as j,a as fe,c as A,g as e,u as n,s as m,r as R,e as $,b as pe,d as Ce,t as Oe}from"../chunks/7KN1XG01.js";import{p as Ne,i as J,a as Te,c,d as ve,s as Ie}from"../chunks/jQt6__yx.js";import{S as w,t as le,I as b,p as Q,o as Pe,n as Se,u as ge}from"../chunks/B63XpyKO.js";import{C as Ee,f as we}from"../chunks/gwbIRn5Y.js";var Ae=z("<!> <!>",1),Re=z("<!> <!> <!>",1),Le=z('<div class="relative flex flex-row items-start justify-center"><div class="flex w-1/3 flex-col items-center px-2"><!> <!> <!> <!></div> <div class="flex w-1/3 flex-col px-2"><!> <!> <!> <!></div> <div class="flex w-1/3 flex-col px-2"><!> <!> <!> <!></div></div>'),De=z("<!> <!> <!>",1),Ve=z("<!> <!> <!>",1),je=z('<div class="relative flex flex-row items-start justify-center"><div class="flex w-1/3 flex-col items-center px-2"><!> <!> <!> <!> <!> <!></div> <div class="flex w-1/3 flex-col px-2"><!> <!> <!> <!></div> <div class="flex w-1/3 flex-col px-2"><!> <!> <!> <!> <!> <!></div></div>');function Be(se,t){be(t,!0);const f=()=>ve(Pe,"$optionsStore",L),a=()=>ve(Se,"$t",L),[L,ue]=Te(),de=Ne(t,"forConstructor",3,!0);let X=pe(!0);const M=Ue("DeviceVariables");let Y=n(()=>M&&Array.isArray(M)?M:[]);const G=n(()=>f().COLOR_OPTIONS.find(_=>_.value.includes(t.component.properties.componentClass?.split(" ").find(g=>g.startsWith("bg-"))))),ce=n(()=>f().TEXT_ALIGN_OPTIONS.find(_=>_.value.includes(t.component.properties.label?.class?.split(" ").find(g=>g.startsWith("text-"))))),s=(_,g)=>{const C=JSON.parse(JSON.stringify(t.component.properties));if(_==="regExp")try{let y;if(typeof g=="string"){const O=g.match(/^\/(.*)\/([gimsuy]*)$/);if(y=O?new RegExp(O[1],O[2]):new RegExp(g),O===null)return;y.test("")}else throw new Error("Invalid RegExp type");C.regExp=y,$(X,!0)}catch(y){console.warn("Invalid RegExp:",y),C.regExp=typeof g=="string"?g:String(g),$(X,!1);return}const E=_.split(".");let I=C;for(let y=0;y<E.length-1;y++){const O=E[y];I[O]||(I[O]={}),I=I[O]}I[E[E.length-1]]=g,t.onPropertyChange({properties:C})},ee=_=>{let g=t.component.properties.componentClass||"";g=g.split(" ").filter(C=>!C.startsWith("bg-")).join(" "),_&&(g+=` ${_}`),s("componentClass",g)};var B=ae(),_e=j(B);{var xe=_=>{var g=Le(),C=A(g),E=A(C);{let i=n(()=>({name:a()("constructor.props.variable")})),d=n(()=>e(Y).find(u=>u.value===t.component.properties.id));c(E,()=>w,(u,v)=>{v(u,{get label(){return e(i)},get options(){return e(Y)},get value(){return e(d)},onUpdate:r=>{s("id",r.value),t.onPropertyChange({name:r.name?.split("â€”")[1].trim(),eventHandler:{Variables:[r.value]}})}})})}var I=m(E,2);{let i=n(()=>({name:a()("constructor.props.access")})),d=n(()=>f().ACCESS_OPTION.find(u=>u.value===t.component.access));c(I,()=>w,(u,v)=>{v(u,{get label(){return e(i)},type:"buttons",get options(){return f().ACCESS_OPTION},get value(){return e(d)},onUpdate:r=>t.onPropertyChange({access:r.value})})})}var y=m(I,2);{let i=n(()=>({name:a()("constructor.props.type")})),d=n(()=>f().INPUT_TYPE_OPTIONS.find(u=>u.value===(t.component.properties.type||"text")));c(y,()=>w,(u,v)=>{v(u,{get label(){return e(i)},get options(){return f().INPUT_TYPE_OPTIONS},type:"buttons",get value(){return e(d)},onUpdate:r=>{s("type",r.value),r.value==="text-area"?s("componentClass",le(t.component.properties.componentClass,"font-mono")):s("componentClass",le(t.component.properties.componentClass,"font-[Montserrat]"))}})})}var O=m(y,2);{var te=i=>{var d=Ae(),u=j(d);{let r=n(()=>({name:a()("constructor.props.maxlength")}));c(u,()=>b,(l,o)=>{o(l,{get label(){return e(r)},type:"number",number:{minNum:1,maxNum:1e6,step:1},get value(){return t.component.properties.maxlength},onUpdate:p=>s("maxlength",p)})})}var v=m(u,2);{let r=n(()=>({name:a()("constructor.props.regexp")})),l=n(()=>({info:a()("constructor.props.regexp.info")})),o=n(()=>e(X)===!1?"!border-2 !border-red-400":"");c(v,()=>b,(p,h)=>{h(p,{get label(){return e(r)},get value(){return t.component.properties.help.regExp},maxlength:150,get help(){return e(l)},get componentClass(){return e(o)},onUpdate:T=>s("help.regExp",T)})})}S(i,d)},me=i=>{var d=ae(),u=j(d);{var v=r=>{var l=Re(),o=j(l);{let T=n(()=>({name:a()("constructor.props.minnum")}));c(o,()=>b,(x,U)=>{U(x,{get label(){return e(T)},get value(){return t.component.properties.number.minNum},type:"number",onUpdate:N=>{s("number.minNum",Number(N))}})})}var p=m(o,2);{let T=n(()=>({name:a()("constructor.props.maxnum")}));c(p,()=>b,(x,U)=>{U(x,{get label(){return e(T)},get value(){return t.component.properties.number.maxNum},type:"number",onUpdate:N=>{s("number.maxNum",Number(N))}})})}var h=m(p,2);{let T=n(()=>({name:a()("constructor.props.step")}));c(h,()=>b,(x,U)=>{U(x,{get label(){return e(T)},get value(){return t.component.properties.number.step},type:"number",onUpdate:N=>s("number.step",Number(N))})})}S(r,l)};J(u,r=>{t.component.properties.type==="number"&&!t.component.properties.readonly&&!t.component.properties.disabled&&r(v)},!0)}S(i,d)};J(O,i=>{t.component.properties.type==="text"||t.component.properties.type==="password"||t.component.properties.type==="text-area"?i(te):i(me,!1)})}R(C);var H=m(C,2),k=A(H);{let i=n(()=>({name:a()("constructor.props.placeholder")}));c(k,()=>b,(d,u)=>{u(d,{get label(){return e(i)},get value(){return t.component.properties.placeholder},onUpdate:v=>s("placeholder",v)})})}var Z=m(k,2);{let i=n(()=>({name:a()("constructor.props.info")}));c(Z,()=>b,(d,u)=>{u(d,{get label(){return e(i)},get value(){return t.component.properties.help.info},onUpdate:v=>s("help.info",v)})})}var q=m(Z,2);{let i=n(()=>({name:a()("constructor.props.readonly")}));c(q,()=>Q,(d,u)=>{u(d,{get label(){return e(i)},get value(){return t.component.properties.readonly},options:[{id:crypto.randomUUID(),value:0,class:""}],onChange:v=>s("readonly",v)})})}var ie=m(q,2);{let i=n(()=>({name:a()("constructor.props.copy")}));c(ie,()=>Q,(d,u)=>{u(d,{get label(){return e(i)},get value(){return t.component.properties.help.copyButton},options:[{id:crypto.randomUUID(),value:0,class:""}],onChange:v=>s("help.copyButton",v)})})}R(H);var re=m(H,2),ne=A(re);{let i=n(()=>({name:a()("constructor.props.label")}));c(ne,()=>b,(d,u)=>{u(d,{get label(){return e(i)},get value(){return t.component.properties.label.name},onUpdate:v=>s("label.name",v)})})}var F=m(ne,2);{let i=n(()=>({name:a()("constructor.props.align")}));c(F,()=>w,(d,u)=>{u(d,{get label(){return e(i)},type:"buttons",get value(){return e(ce)},get options(){return f().TEXT_ALIGN_OPTIONS},onUpdate:v=>s("label.class",le(t.component.properties.label.class,v.value))})})}var K=m(F,2);{let i=n(()=>({name:a()("constructor.props.autocomplete")})),d=n(()=>f().AUTOCOMPLETE_CONSTRUCTOR_OPTIONS.find(u=>u.value===(t.component.properties.help.autocomplete||"off")));c(K,()=>w,(u,v)=>{v(u,{get label(){return e(i)},get options(){return f().AUTOCOMPLETE_CONSTRUCTOR_OPTIONS},get value(){return e(d)},onUpdate:r=>s("help.autocomplete",r.value)})})}var oe=m(K,2);{let i=n(()=>({name:a()("constructor.props.colors")}));c(oe,()=>w,(d,u)=>{u(d,{wrapperClass:"h-14",get label(){return e(i)},type:"buttons",get options(){return f().COLOR_OPTIONS},get value(){return e(G)},onUpdate:v=>ee(v.value)})})}R(re),R(g),S(_,g)},ye=_=>{var g=je(),C=A(g),E=A(C);{let r=n(()=>({name:a()("constructor.props.id")}));c(E,()=>b,(l,o)=>{o(l,{get label(){return e(r)},get value(){return t.component.properties.id},onUpdate:p=>s("id",p)})})}var I=m(E,2);{let r=n(()=>({name:a()("constructor.props.wrapperclass")}));c(I,()=>b,(l,o)=>{o(l,{get label(){return e(r)},get value(){return t.component.properties.wrapperClass},onUpdate:p=>s("wrapperClass",p)})})}var y=m(I,2);{let r=n(()=>({name:a()("constructor.props.label")}));c(y,()=>b,(l,o)=>{o(l,{get label(){return e(r)},get value(){return t.component.properties.label.name},onUpdate:p=>s("label.name",p)})})}var O=m(y,2);{let r=n(()=>({name:a()("constructor.props.label.class")}));c(O,()=>b,(l,o)=>{o(l,{get label(){return e(r)},get value(){return t.component.properties.label.class},onUpdate:p=>s("label.class",p)})})}var te=m(O,2);{let r=n(()=>({name:a()("constructor.props.componentclass")}));c(te,()=>b,(l,o)=>{o(l,{get label(){return e(r)},get value(){return t.component.properties.componentClass},onUpdate:p=>s("componentClass",le(t.component.properties.componentClass,p))})})}var me=m(te,2);{let r=n(()=>({name:a()("constructor.props.colors")}));c(me,()=>w,(l,o)=>{o(l,{wrapperClass:"h-14",get label(){return e(r)},type:"buttons",get options(){return f().COLOR_OPTIONS},get value(){return e(G)},onUpdate:p=>ee(p.value)})})}R(C);var H=m(C,2),k=A(H);{let r=n(()=>({name:a()("constructor.props.access")})),l=n(()=>f().ACCESS_OPTION.find(o=>o.value===t.component.access));c(k,()=>w,(o,p)=>{p(o,{get label(){return e(r)},type:"buttons",get options(){return f().ACCESS_OPTION},get value(){return e(l)},onUpdate:h=>t.onPropertyChange({access:h.value})})})}var Z=m(k,2);{let r=n(()=>({name:a()("constructor.props.value")}));c(Z,()=>b,(l,o)=>{o(l,{get label(){return e(r)},get value(){return t.component.properties.value},onUpdate:p=>s("value",p)})})}var q=m(Z,2);{let r=n(()=>({name:a()("constructor.props.type")})),l=n(()=>f().INPUT_TYPE_OPTIONS.find(o=>o.value===(t.component.properties.type||"text")));c(q,()=>w,(o,p)=>{p(o,{get label(){return e(r)},get options(){return f().INPUT_TYPE_OPTIONS},type:"buttons",get value(){return e(l)},onUpdate:h=>s("type",h.value)})})}var ie=m(q,2);{var re=r=>{var l=De(),o=j(l);{let x=n(()=>({name:a()("constructor.props.maxlength")}));c(o,()=>b,(U,N)=>{N(U,{get label(){return e(x)},type:"number",number:{minNum:1,maxNum:1e6,step:1},get value(){return t.component.properties.maxlength},onUpdate:P=>s("maxlength",P)})})}var p=m(o,2);{let x=n(()=>({name:a()("constructor.props.regexp")})),U=n(()=>({info:a()("constructor.props.regexp.info")})),N=n(()=>e(X)===!1?"!border-2 !border-red-400":"");c(p,()=>b,(P,D)=>{D(P,{get label(){return e(x)},get value(){return t.component.properties.help.regExp},maxlength:150,get help(){return e(U)},get componentClass(){return e(N)},onUpdate:V=>s("help.regExp",V)})})}var h=m(p,2);{var T=x=>{var U=ae(),N=j(U);{let P=n(()=>({name:a()("constructor.props.textarea.rows")}));c(N,()=>b,(D,V)=>{V(D,{get label(){return e(P)},type:"number",number:{minNum:1,maxNum:1e6,step:1},get value(){return t.component.properties.textareaRows},onUpdate:W=>s("textareaRows",W)})})}S(x,U)};J(h,x=>{t.component.properties.type==="text-area"&&x(T)})}S(r,l)},ne=r=>{var l=ae(),o=j(l);{var p=h=>{var T=Ve(),x=j(T);{let P=n(()=>({name:a()("constructor.props.minnum")}));c(x,()=>b,(D,V)=>{V(D,{get label(){return e(P)},get value(){return t.component.properties.number.minNum},type:"number",onUpdate:W=>{s("number.minNum",Number(W))}})})}var U=m(x,2);{let P=n(()=>({name:a()("constructor.props.maxnum")}));c(U,()=>b,(D,V)=>{V(D,{get label(){return e(P)},get value(){return t.component.properties.number.maxNum},type:"number",onUpdate:W=>{s("number.maxNum",Number(W))}})})}var N=m(U,2);{let P=n(()=>({name:a()("constructor.props.step")}));c(N,()=>b,(D,V)=>{V(D,{get label(){return e(P)},get value(){return t.component.properties.number.step},type:"number",onUpdate:W=>s("number.step",Number(W))})})}S(h,T)};J(o,h=>{t.component.properties.type==="number"&&!t.component.properties.readonly&&!t.component.properties.disabled&&h(p)},!0)}S(r,l)};J(ie,r=>{t.component.properties.type==="text"||t.component.properties.type==="password"||t.component.properties.type==="text-area"?r(re):r(ne,!1)})}R(H);var F=m(H,2),K=A(F);{let r=n(()=>({name:a()("constructor.props.placeholder")}));c(K,()=>b,(l,o)=>{o(l,{get label(){return e(r)},get value(){return t.component.properties.placeholder},onUpdate:p=>s("placeholder",p)})})}var oe=m(K,2);{let r=n(()=>({name:a()("constructor.props.info")}));c(oe,()=>b,(l,o)=>{o(l,{get label(){return e(r)},get value(){return t.component.properties.help.info},onUpdate:p=>s("help.info",p)})})}var i=m(oe,2);{let r=n(()=>({name:a()("constructor.props.autocomplete")})),l=n(()=>f().AUTOCOMPLETE_OPTIONS.find(o=>o.value===(t.component.properties.help.autocomplete||"off")));c(i,()=>w,(o,p)=>{p(o,{get label(){return e(r)},get options(){return f().AUTOCOMPLETE_OPTIONS},get value(){return e(l)},onUpdate:h=>s("help.autocomplete",h.value)})})}var d=m(i,2);{let r=n(()=>({name:a()("constructor.props.readonly")}));c(d,()=>Q,(l,o)=>{o(l,{get label(){return e(r)},get value(){return t.component.properties.readonly},options:[{id:crypto.randomUUID(),value:0,class:""}],onChange:p=>s("readonly",p)})})}var u=m(d,2);{let r=n(()=>({name:a()("constructor.props.copy")}));c(u,()=>Q,(l,o)=>{o(l,{get label(){return e(r)},get value(){return t.component.properties.help.copyButton},options:[{id:crypto.randomUUID(),value:0,class:""}],onChange:p=>s("help.copyButton",p)})})}var v=m(u,2);{let r=n(()=>({name:a()("constructor.props.disabled")}));c(v,()=>Q,(l,o)=>{o(l,{get label(){return e(r)},get value(){return t.component.properties.disabled},options:[{id:crypto.randomUUID(),value:0,class:""}],onChange:p=>s("disabled",p)})})}R(F),R(g),S(_,g)};J(_e,_=>{de()?_(xe):_(ye,!1)})}S(se,B),fe(),ue()}var Me=z("<div><!></div> <p> </p>",1);function Je(se,t){be(t,!0);let f=pe(!1),a=pe(void 0),L=pe(Ce({id:crypto.randomUUID(),type:"Input",access:"full",properties:{id:crypto.randomUUID(),label:{name:"Label",class:"text-center"},componentClass:"bg-max resize-none",type:"number",maxlength:32,number:{minNum:1,maxNum:10,step:1},textareaRows:5,help:{copyButton:!1,info:"",autocomplete:"off",regExp:"/^[0-9a-zA-Z_-]{0,32}$/"}},eventHandler:{Header:"SET",Argument:"NoSend",Variables:[]},position:{row:0,col:0,width:0,height:0},parentId:""})),ue=n(()=>`
<UI.Input
${we(e(L).properties)} 
  onUpdate={() => {}}
/>`);Ee(se,{get codeText(){return e(ue)},component:M=>{var Y=Me(),G=j(Y),ce=A(G);b(ce,Ie(()=>e(L).properties,{onUpdate:B=>{ge(e(L),{properties:{value:B}})},get value(){return e(a)},set value(B){$(a,B,!0)},get isValid(){return e(f)},set isValid(B){$(f,B,!0)}})),R(G);var s=m(G,2),ee=A(s,!0);R(s),Oe(()=>he(ee,e(a))),S(M,Y)},componentProps:M=>{Be(M,{get component(){return e(L)},onPropertyChange:Y=>$(L,ge(e(L),Y),!0),forConstructor:!1})}}),fe()}export{Je as component};
