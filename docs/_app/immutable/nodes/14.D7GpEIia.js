import"../chunks/NZTpNUN0.js";import{p as Se,m as Ue,k as Te,l as Z,a as N,e as Be,f as L,h as C,g as t,i as a,r as _,j as p,t as Ne,s as xe,c as Ee,d as De}from"../chunks/C8jWV29K.js";import{i as ie,s as Ve,c as i,a as de,d as je}from"../chunks/CFB23tc5.js";import{S as G,I as T,B as W,e as ce,f as Le,i as ve,o as Re,d as ze,T as Ge}from"../chunks/CuZzhwEb.js";import{s as We}from"../chunks/D7KfncB_.js";import{u as f}from"../chunks/BoP6aUrK.js";import{a as ue,B as me}from"../chunks/BdkJC-uz.js";var Ze=L('<div class="mx-14 flex items-end justify-around gap-2"><!> <!> <!> <!> <!></div>'),Fe=L('<div class="mb-5 rounded-lg p-1"></div>'),qe=L('<div class="m-0 flex items-end justify-around gap-2"><!> <!> <!> <!> <!> <!></div> <!>',1),Je=L('<div class="relative flex flex-row items-start justify-center"><div class="flex w-1/3 flex-col items-center px-2"><!></div> <div class="flex w-1/3 flex-col px-2"><!></div> <div class="flex w-1/3 flex-col px-2"><!> <!></div></div> <hr class="border-[var(--border-color)]"/> <div class="space-y-4"><div class="m-0 flex items-center justify-center gap-2"><h4> </h4> <!></div> <!></div>',1);function Ke(F,e){Se(e,!0);const H=()=>de(Re,"$optionsStore",B),s=()=>de(ze,"$t",B),[B,q]=Ve(),x=Ue("DeviceVariables");let E=a(()=>x&&Array.isArray(x)?x.map(n=>({id:n.name,value:n.value,name:`${n.value} | ${n.name}`})):[]);const R=a(()=>H().COLOR_OPTIONS.find(n=>n.value.includes(e.component.properties.wrapperClass?.split(" ").find(v=>v.startsWith("bg-"))))),he=a(()=>H().ALIGN_OPTIONS.find(n=>n.value.includes(e.component.properties.label?.class?.split(" ").find(v=>v.startsWith("text-"))))),D=(n,v,b)=>{const u=[...e.component.properties.header];u[n]={...u[n],[v]:b},f("header",u,e.component,e.onPropertyChange)},z=(n,v,b,u)=>{const V=[...e.component.properties.header],A=[...V[n].buttons];A[v]={...A[v],[b]:u},V[n].buttons=A,f("header",V,e.component,e.onPropertyChange)},ge=(n,v)=>{const b=[...e.component.properties.header],u=[...b[n].buttons];u.splice(v,1),b[n].buttons=u.length?u:void 0,f("header",b,e.component,e.onPropertyChange)};var Q=Te(),be=Z(Q);{var we=n=>{var v=Je(),b=Z(v),u=C(b),V=C(u);{let m=a(()=>({name:s()("constructor.props.variable")})),l=a(()=>t(E).find(r=>r.value===e.component.properties.id.value));i(V,()=>G,(r,g)=>{g(r,{get label(){return t(m)},get options(){return t(E)},get value(){return t(l)},onUpdate:k=>{f("id",k.value,e.component,e.onPropertyChange),f("eventHandler.Variables",k.value,e.component,e.onPropertyChange)}})})}_(u);var A=p(u,2),_e=C(A);{let m=a(()=>({name:s()("constructor.props.colors")}));i(_e,()=>G,(l,r)=>{r(l,{wrapperClass:"!h-14",get label(){return t(m)},type:"buttons",get options(){return H().COLOR_OPTIONS},get value(){return t(R)},onUpdate:g=>f("wrapperClass",`${e.component.properties.wrapperClass} ${g.value}`,e.component,e.onPropertyChange)})})}_(A);var X=p(A,2),Y=C(X);{let m=a(()=>({name:s()("constructor.props.label")}));i(Y,()=>T,(l,r)=>{r(l,{get label(){return t(m)},get value(){return e.component.properties.label.name},onUpdate:g=>f("label.name",g,e.component,e.onPropertyChange)})})}var fe=p(Y,2);{let m=a(()=>({name:s()("constructor.props.align")}));i(fe,()=>G,(l,r)=>{r(l,{get label(){return t(m)},type:"buttons",get value(){return t(he)},get options(){return H().ALIGN_OPTIONS},onUpdate:g=>f("label.class",`${e.component.properties.label.class} ${g.value}`,e.component,e.onPropertyChange)})})}_(X),_(b);var I=p(b,4),J=C(I),K=C(J),Ce=C(K,!0);_(K);var ye=p(K,2);{let m=a(()=>({icon:ue}));i(ye,()=>W,(l,r)=>{r(l,{wrapperClass:"!w-10",get content(){return t(m)},componentClass:"bg-transparent h-10 border-none !shadow-none hover:shadow-none",onClick:()=>{const g={key:`column${(e.component.properties.header?.length||0)+1}`,label:{name:`Column ${(e.component.properties.header?.length||0)+1}`,class:""},width:"100px",sortable:!1},k=[...e.component.properties.header||[],g];f("header",k,e.component,e.onPropertyChange)}})})}_(J);var Pe=p(J,2);ce(Pe,17,()=>e.component.properties.header,ve,(m,l,r)=>{var g=qe(),k=Z(g),$=C(k);{let d=a(()=>({name:s()("constructor.props.table.columns.key")}));i($,()=>T,(c,h)=>{h(c,{get label(){return t(d)},wrapperClass:"!w-2/10",get value(){return t(l).key},help:{regExp:/^[0-9a-zA-Z_-]{0,16}$/},onUpdate:o=>D(r,"key",o)})})}var ee=p($,2);{let d=a(()=>({name:s()("constructor.props.table.columns.label")}));i(ee,()=>T,(c,h)=>{h(c,{get label(){return t(d)},wrapperClass:"!w-2/10",get value(){return t(l).label.name},onUpdate:o=>D(r,"label.name",o)})})}var te=p(ee,2);{let d=a(()=>({name:s()("constructor.props.table.columns.width")}));i(te,()=>T,(c,h)=>{h(c,{get label(){return t(d)},wrapperClass:"!w-2/10",get value(){return t(l).width},onUpdate:o=>D(r,"width",o)})})}var re=p(te,2);{let d=a(()=>({name:s()("constructor.props.table.columns.sortable")})),c=a(()=>t(l).sortable?2:1);i(re,()=>Le,(h,o)=>{o(h,{wrapperClass:"!w-1/10 bg-blue",get label(){return t(d)},get value(){return t(c)},onChange:y=>D(r,"sortable",y===2)})})}var ae=p(re,2);{let d=a(()=>({icon:ue,info:s()("constructor.props.table.addaction")}));i(ae,()=>W,(c,h)=>{h(c,{wrapperClass:"w-10",get content(){return t(d)},componentClass:"bg-transparent h-10 w-10 border-none !shadow-none hover:shadow-none",onClick:()=>{const o={name:`button${(e.component.properties.header[r].buttons.length||0)+1}`,class:"bg-blue",eventHandler:{Header:"SET",Argument:"Save",Variables:[]},onClick:()=>{}},y=[...e.component.properties.header[r].buttons||[],o];D(r,"buttons",y)}})})}var Oe=p(ae,2);{let d=a(()=>({icon:me,info:s()("constructor.props.table.deletecolumn")}));i(Oe,()=>W,(c,h)=>{h(c,{wrapperClass:"w-10",get content(){return t(d)},componentClass:" bg-transparent h-10 w-10 border-none !shadow-none hover:shadow-none",onClick:()=>{const o=[...e.component.properties.header||[]];o.splice(r,1),f("header",o,e.component,e.onPropertyChange)}})})}_(k);var He=p(k,2);{var ke=d=>{var c=Fe();ce(c,21,()=>t(l).buttons,ve,(h,o,y)=>{var M=Ze(),ne=C(M);{let P=a(()=>({name:s()("constructor.props.name")}));i(ne,()=>T,(O,w)=>{w(O,{get label(){return t(P)},wrapperClass:"!w-3/10",get value(){return t(o).name},onUpdate:S=>z(r,y,"name",S)})})}var oe=p(ne,2);{let P=a(()=>({name:s()("constructor.props.header")})),O=a(()=>H().HEADER_OPTIONS.find(w=>w.value===t(o).eventHandler?.Header));i(oe,()=>G,(w,S)=>{S(w,{wrapperClass:"!w-2/10",get label(){return t(P)},type:"buttons",get value(){return t(O)},get options(){return H().HEADER_OPTIONS},onUpdate:j=>{const U=t(o).eventHandler;U.Header=j.value,z(r,y,"eventHandler",U)}})})}var se=p(oe,2);{let P=a(()=>({name:s()("constructor.props.argument")})),O=a(()=>t(o).eventHandler?.Argument);i(se,()=>T,(w,S)=>{S(w,{wrapperClass:"!w-2/10",get label(){return t(P)},get value(){return t(O)},onUpdate:j=>{const U=t(o).eventHandler;U.Argument=j,z(r,y,"eventHandler",U)}})})}var le=p(se,2);{let P=a(()=>({name:s()("constructor.props.table.keys")})),O=a(()=>t(o).eventHandler?.Variables.join(" ")),w=a(()=>({info:s()("constructor.props.table.keys.info"),regExp:/^[a-zA-Z0-9\-_ ]{0,500}$/}));i(le,()=>T,(S,j)=>{j(S,{wrapperClass:"!w-2/10",get label(){return t(P)},get value(){return t(O)},maxlength:500,get help(){return t(w)},onUpdate:U=>{const pe={...t(o).eventHandler};pe.Variables=U.trim().split(/\s+/),z(r,y,"eventHandler",pe)}})})}var Ae=p(le,2);{let P=a(()=>({icon:me}));i(Ae,()=>W,(O,w)=>{w(O,{wrapperClass:"w-10 m",get content(){return t(P)},componentClass:"bg-transparent h-10 w-10 border-none !shadow-none hover:shadow-none",onClick:()=>ge(r,y)})})}_(M),N(h,M)}),_(c),N(d,c)};ie(He,d=>{t(l).buttons&&t(l).buttons.length>0&&d(ke)})}N(m,g)}),_(I),Ne(m=>We(Ce,m),[()=>s()("constructor.props.table.columns")]),N(n,v)};ie(be,n=>{e.component&&e.component.properties&&n(we)})}N(F,Q),Be(),q()}var Me=L('<div class="h-100"><!></div> <!>',1);function rt(F){let e=xe(Ee({id:crypto.randomUUID(),type:"Table",component:null,properties:{id:crypto.randomUUID(),wrapperClass:"bg-blue",label:{name:"Label",class:"text-center"},header:[{key:"column1",label:{name:"Column 1",class:"text-center"},width:"40%",sortable:!0},{key:"column2",label:{name:"Column 2"},width:"60%",sortable:!1}],body:[],showInfo:!1},position:{row:0,col:0,width:0,height:0},parentId:""}));const H=(E,R)=>{De(e,{...t(e),properties:R.properties?{...t(e).properties,...R.properties}:t(e).properties},!0)};var s=Me(),B=Z(s),q=C(B);Ge(q,je(()=>t(e).properties)),_(B);var x=p(B,2);Ke(x,{get component(){return t(e)},onPropertyChange:E=>H(t(e).id,{properties:E})}),N(F,s)}export{rt as component};
